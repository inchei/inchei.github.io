<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>單倉庫設置 hexo 和 Jekyll 在 gh-pages 子頁面下 › 伢子集</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="前言實際上我害怕 WordPress 是在害怕沒錢支持服務器，等到初中瞭解了本地服務器后立馬試了一番。我仔細想了一想，第一次看到獨立博客這東西就是獨立博客中的翹楚 hexo。大概在這個時候，我才能升起强烈的興趣，於是折騰起了基於 gh-pages 的靜態博客，甚至因此對於 WordPress 這種動態博客產生了恐懼。在這期間，我懷揣著一個會打字比較快、還會手敲網頁、於是慾將自己的網頁作主頁的小學生"><meta name="keywords" content="瞎折騰"><meta property="og:type" content="article"><meta property="og:title" content="單倉庫設置 hexo 和 Jekyll 在 gh-pages 子頁面下"><meta property="og:url" content="https://inchei.github.io/blog/2018/07/01/hexo-jekyll-ghpages/index.html"><meta property="og:site_name" content="伢子集"><meta property="og:description" content="前言實際上我害怕 WordPress 是在害怕沒錢支持服務器，等到初中瞭解了本地服務器后立馬試了一番。我仔細想了一想，第一次看到獨立博客這東西就是獨立博客中的翹楚 hexo。大概在這個時候，我才能升起强烈的興趣，於是折騰起了基於 gh-pages 的靜態博客，甚至因此對於 WordPress 這種動態博客產生了恐懼。在這期間，我懷揣著一個會打字比較快、還會手敲網頁、於是慾將自己的網頁作主頁的小學生"><meta property="og:locale" content="zh-Hant"><meta property="og:updated_time" content="2019-07-03T02:59:15.739Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="單倉庫設置 hexo 和 Jekyll 在 gh-pages 子頁面下"><meta name="twitter:description" content="前言實際上我害怕 WordPress 是在害怕沒錢支持服務器，等到初中瞭解了本地服務器后立馬試了一番。我仔細想了一想，第一次看到獨立博客這東西就是獨立博客中的翹楚 hexo。大概在這個時候，我才能升起强烈的興趣，於是折騰起了基於 gh-pages 的靜態博客，甚至因此對於 WordPress 這種動態博客產生了恐懼。在這期間，我懷揣著一個會打字比較快、還會手敲網頁、於是慾將自己的網頁作主頁的小學生"><link rel="icon" href="/blog/favicon.png"><link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700" rel="stylesheet"><script src="https://unpkg.com/zooming/build/zooming.min.js"></script><script>import Zooming from 'zooming';

     document.addEventListener('DOMContentLoaded', function () {
     const zooming = new Zooming({})

     zooming.listen('.article img')
     })</script><link rel="stylesheet" href="/blog/icomoon/style.css"><link rel="stylesheet" href="/blog/style.css"></head><body><div class="site-wrapper"><div id="loading-bar-wrapper"><div id="loading-bar"></div></div><script>document.getElementById("loading-bar").style.width="20%"</script><header id="header" class="site-header clearfix"><a class="logo square clearfix" href="/blog/"><span class="b">伢 </span><span class="w">子 </span><span class="b">集 </span></a><a class="me square site-nav-switch clearfix"><span class="b"><span class="icon icon-menu"></span></span></a></header><script>document.getElementById("loading-bar").style.width="40%"</script><main id="main" class="clearfix"><article id="post-hexo-jekyll-ghpages" class="article white-box article-type-post" itemscope itemprop="blogPost"><header class="article-header"><h1 class="article-title" itemprop="name">單倉庫設置 hexo 和 Jekyll 在 gh-pages 子頁面下</h1><div class="article-meta"><time class="article-time" datetime="2018-06-30T16:00:00.000Z" itemprop="datePublished" data-date="Jul 1, 2018">戊戌年五月十八</time></div></header><div class="article-entry" itemprop="articleBody"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><aside>實際上我害怕 WordPress 是在害怕沒錢支持服務器，等到初中瞭解了本地服務器后立馬試了一番。</aside><p>我仔細想了一想，第一次看到獨立博客這東西就是獨立博客中的翹楚 <a href="https://hexo.io/" target="_blank" rel="noopener">hexo</a>。大概在這個時候，我才能升起强烈的興趣，於是折騰起了基於 <a href="https://pages.github.com/" target="_blank" rel="noopener">gh-pages</a> 的靜態博客<del>，甚至因此對於 <a href="https://wordpress.org/" target="_blank" rel="noopener">WordPress</a> 這種動態博客產生了恐懼</del>。在這期間，我懷揣著一個會打字比較快、還會手敲網頁、於是慾將自己的網頁作主頁的小學生的夢想，遇見了一個問題：</p><p><a href="https://www.zhihu.com/question/38125993" target="_blank" rel="noopener">如何在 GitHub Pages 上传自己写的网页作为首页，Hexo 博客作为其子页？</a></p><p>今日即擴展至 Jekyll ，記錄自己的解決方法。</p><h2 id="Jekyll"><a href="#Jekyll" class="headerlink" title="Jekyll"></a>Jekyll</h2><p>Jekyll 可以和你自己編寫的網頁共存。這意味著：只要你把 Jekyll 博客的内容移動到主倉庫的子目錄下，再在主倉庫直接編寫，一切就完成了。</p><h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><h3 id="突破口"><a href="#突破口" class="headerlink" title="突破口"></a>突破口</h3><p>在上文提及的知乎問題中，有人提供了雙倉庫的解決方案。即：一個倉庫名爲<code>uname.github.io</code>用於儲存主頁面，另一倉庫名爲<code>blog</code>儲存修改<code>站點配置文件</code>中<code>URL</code>一節為子頁面的 hexo 文件。如果不用 CNAME，這實在是有點繞不過彎子的行爲。（詳見：<a href="https://jacklightchen.github.io/blog/2016/10/27/HexoOverview/" target="_blank" rel="noopener">Hexo - 用自己的页面做首页</a>）</p><p>如果你將 hexo 目錄的内容直接粘貼到<code>uname.github.io</code>倉庫下的子目錄下，會發現除了引用資源外，内容并無差錯。而經過修改<code>站點配置文件</code>中<code>URL</code>一節為子頁面后，引用資源跟著變成了子頁面下的路徑。</p><p>從 hexo 的本質來看，它就是生成了一堆靜態文件罷了。這樣一來，解決問題就非常容易了。</p><h3 id="解決方案"><a href="#解決方案" class="headerlink" title="解決方案"></a>解決方案</h3><ol><li>修改<code>站點配置文件</code>中<code>URL</code>一節對應你期望的子目錄名稱。</li><li>同樣，修改<code>root</code>一節為子目錄名稱。</li><li>在 hexo 目錄下運行<code>hexo g</code>。</li><li>直接複製 hexo 目錄下的生成文件目錄（默認為<code>public</code>）中的内容至<code>uname.github.io</code>倉庫下的子目錄内。</li></ol><p>當然，碼力夠強、時間夠多，自然可以由此原理寫個自動脚本。</p><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>這種方案相當於跳過了利用 hexo 工具部署至 GitHub，實際上還是有點麻煩的。但回頭再想想：你同時需要直接用 git 來 push 你的主頁面，那麽在電腦裏留著本地倉庫有什麽不好的呢？</p><p>因此，煞費苦心建了一個叫做「blog」的倉庫的各位，刪掉它吧！</p><h2 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h2><p>倉庫請見：<a href="https://github.com/inchei/inchei.github.io/" target="_blank" rel="noopener">https://github.com/inchei/inchei.github.io/</a></p><ul><li>Jekyll: <a href="https://inchei.github.io/lab/jekyll">https://inchei.github.io/blog</a></li><li>Hexo: <a href="https://inchei.github.io/blog">https://inchei.github.io/lab/hexo</a></li></ul></div><div class="article-tags"><a class="tag-link" href="/blog/tags/瞎折騰/">瞎折騰</a></div></article><script>document.getElementById("loading-bar").style.width="60%"</script></main><footer id="footer" class="clearfix"><div>&copy; <a href="https://inchei.github.io/blog">伢子集</a> <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/us/deed.en">CC BY-NC-SA 3.0</a>.</div><div>主題來自 <a href="http://artifact.me/" target="_blank">Art Chen</a> 由 <a href="https://hexo.io/" rel="external">Hexo</a> 驅動.</div></footer><script>document.getElementById("loading-bar").style.width="80%"</script><div class="overlay"></div></div><div class="site-sidebar"><div class="sidebar-switch clearfix show" style="display:block"><a class="dark-btn active" data-toggle="toc"><span class="icon icon-list"></span> <span class="text">目錄</span> </a><a class="dark-btn" data-toggle="bio"><span class="icon icon-person"></span> <span class="text">關於</span></a></div><div class="site-toc show" style="display:block"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jekyll"><span class="toc-number">2.</span> <span class="toc-text">Jekyll</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo"><span class="toc-number">3.</span> <span class="toc-text">Hexo</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#突破口"><span class="toc-number">3.1.</span> <span class="toc-text">突破口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解決方案"><span class="toc-number">3.2.</span> <span class="toc-text">解決方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注意"><span class="toc-number">3.3.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#演示"><span class="toc-number">4.</span> <span class="toc-text">演示</span></a></li></ol></div><div class="site-bio" style="display:none"><div class="about-me clearfix"><div class="avatar"><img src="/blog/img/avatar.png"></div><div class="info"><a class="name dark-btn site-nav-close" href="/blog/about">茵陳</a></div><div class="info"><span class="item desc"></span></div></div><div class="social clearfix"><a href="/blog/atom.xml" class="feed" target="_blank" rel="external"><span class="icon icon-feed"></span> </a><a href="https://github.com/inchei/inchei.github.io" class="github" target="_blank" rel="external"><span class="icon icon-github"></span></a></div><div class="links show clearfix"><span class="title">鏈接</span><ol><li><a href="https://blog.dimpurr.com/" target="_blank" rel="external" data-description="好像很忙碌的北郵萵苣">釘子</a></li><li><a href="http://kumokasumi.lofter.com/" target="_blank" rel="external" data-description="萌百下車伊始行政員">雲霞</a></li></ol></div></div></div><script type="text/javascript">var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo"</script><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script>window.jQuery||document.write('<script src="/js/jquery.js"><\/script>')</script><script src="/blog/js/search.js"></script><script src="/blog/js/app.js"></script><script>document.getElementById("loading-bar").style.width="100%"</script></body></html>