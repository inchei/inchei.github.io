<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>單倉庫設置 hexo 和 Jekyll 在 gh-pages 子頁面下 - 伢子集</title>
  <meta name="description" content="前言 實際上我害怕 WordPress 是在害怕沒錢支持服務器，等到初中瞭解了本地服務器后立馬試了一番。">

  
  <link rel="stylesheet" href="/assets/styles/core.css?v=20190406204843">
  <link rel="stylesheet" href="/assets/styles/fontello.css?v=20190406204843">
  <link rel="stylesheet" href="/assets/styles/highlighting/default.css?v=20190406204843">

  <link rel="canonical" href="http://localhost:4000/blog/2018/07/01/hexo-jekyll-ghpages.html">
  <link rel="alternate" type="application/rss+xml" title="伢子集" href="/feed.xml">

  

  
</head>

  <body>

  <main class="page-content" aria-label="Content">
    <div class="wrapper">
      <article class="post" lang="en" itemscope itemtype="http://schema.org/BlogPosting" >

  <header class="post-header">
  <a class="site-title" href="/">伢子集</a>
  <h1 class="post-title" itemprop="name headline">單倉庫設置 hexo 和 Jekyll 在 gh-pages 子頁面下</h1>
</header>


<div class="post-cover" aria-label="Cover">
  <div class="post-cover-wrapper">
    <img src="https://inchei.github.io/assets/img/jekyll-hexo.png" alt="" />
  </div>
  <div class="cover-meta"><p>Photo by <a href="https://github.com/inchei">Inchei Chan</a></p>
</div>
</div>



  <div class="post-content" itemprop="articleBody">
    <h2 id="前言">前言</h2>
<p class="aside">實際上我害怕 WordPress 是在害怕沒錢支持服務器，等到初中瞭解了本地服務器后立馬試了一番。</p>

<p>我仔細想了一想，第一次看到獨立博客這東西就是獨立博客中的翹楚 <a href="https://hexo.io/">hexo</a>。大概在這個時候，我才能升起强烈的興趣，於是折騰起了基於 <a href="https://pages.github.com/">gh-pages</a> 的靜態博客<del>，甚至因此對於 <a href="https://wordpress.org/">WordPress</a> 這種動態博客產生了恐懼</del>。在這期間，我懷揣著一個會打字比較快、還會手敲網頁、於是慾將自己的網頁作主頁的小學生的夢想，遇見了一個問題：</p>

<p><a href="https://www.zhihu.com/question/38125993">如何在 GitHub Pages 上传自己写的网页作为首页，Hexo 博客作为其子页？</a></p>

<p>今日即擴展至 Jekyll ，記錄自己的解決方法。</p>

<h2 id="jekyll">Jekyll</h2>

<p>Jekyll 可以和你自己編寫的網頁共存。這意味著：只要你把 Jekyll 博客的内容移動到主倉庫的子目錄下，再在主倉庫直接編寫，一切就完成了。</p>

<h2 id="hexo">Hexo</h2>
<h3 id="突破口">突破口</h3>
<p>在上文提及的知乎問題中，有人提供了雙倉庫的解決方案。即：一個倉庫名爲<code class="highlighter-rouge">uname.github.io</code>用於儲存主頁面，另一倉庫名爲<code class="highlighter-rouge">blog</code>儲存修改<code class="highlighter-rouge">站點配置文件</code>中<code class="highlighter-rouge">URL</code>一節為子頁面的 hexo 文件。如果不用 CNAME，這實在是有點繞不過彎子的行爲。（詳見：<a href="https://jacklightchen.github.io/blog/2016/10/27/HexoOverview/">Hexo - 用自己的页面做首页</a>）</p>

<p>如果你將 hexo 目錄的内容直接粘貼到<code class="highlighter-rouge">uname.github.io</code>倉庫下的子目錄下，會發現除了引用資源外，内容并無差錯。而經過修改<code class="highlighter-rouge">站點配置文件</code>中<code class="highlighter-rouge">URL</code>一節為子頁面后，引用資源跟著變成了子頁面下的路徑。</p>

<p>從 hexo 的本質來看，它就是生成了一堆靜態文件罷了。這樣一來，解決問題就非常容易了。</p>

<h3 id="解決方案">解決方案</h3>
<ol>
  <li>修改<code class="highlighter-rouge">站點配置文件</code>中<code class="highlighter-rouge">URL</code>一節對應你期望的子目錄名稱。</li>
  <li>在 hexo 目錄下運行<code class="highlighter-rouge">hexo g</code>。</li>
  <li>直接複製 hexo 目錄下的生成文件目錄（默認為<code class="highlighter-rouge">public</code>）中的内容至<code class="highlighter-rouge">uname.github.io</code>倉庫下的子目錄内。</li>
</ol>

<p>當然，碼力夠強、時間夠多，自然可以由此原理寫個自動脚本。</p>

<h3 id="注意">注意</h3>
<p>這種方案相當於跳過了利用 hexo 工具部署至 GitHub，實際上還是有點麻煩的。但回頭再想想：你同時需要直接用 git 來 push 你的主頁面，那麽在電腦裏留著本地倉庫有什麽不好的呢？</p>

<p>因此，煞費苦心建了一個叫做「blog」的倉庫的各位，刪掉它吧！</p>

<h2 id="演示">演示</h2>
<p>倉庫請見：<a href="https://github.com/inchei/inchei.github.io/">https://github.com/inchei/inchei.github.io/</a></p>
<ul>
  <li>Jekyll: <a href="https://inchei.github.io/blog">https://inchei.github.io/blog</a></li>
  <li>Hexo: <a href="https://inchei.github.io/blog">https://inchei.github.io/lab/hexo</a></li>
</ul>

  </div>

  <footer class="post-footer">
    <div class="post-meta">
       <time datetime="2018-07-01T00:00:00+08:00" itemprop="datePublished">Jul 1, 2018</time> 
      
    </div>

    
    <ul class="post-tags" aria-label="TagList">
      
      <li><a class="tag-link" href="/tags/%E7%9E%8E%E6%8A%98%E9%A8%B0">瞎折騰</a></li>
      
    </ul>
    
  </footer>

  
</article>

    </div>
    <script type="text/javascript">
  (function () {
    var resize = function () {
      this.width = 0.5 * (this.naturalWidth || this.width);
    }
    Array.prototype.forEach.call(document.querySelectorAll(".half-size, .retina2x"), function(el) {
      if (el.naturalWidth) {
        resize.call(el);
      } else {
        el.onload = resize;
      }
    });
  })();
</script>

  </main>

  <footer class="site-footer">

  <div class="wrapper">
    <div class="social-links">
      <a class="social-link social-github" href="https://github.com/inchei">
        <i class="icon-github"></i>
      </a>
      <a class="social-link social-twitter" href="https://twitter.com/">
        <i class="icon-twitter"></i>
      </a>
      <a class="social-link social-instagram" href="https://instagram.com/">
        <i class="icon-instagram"></i>
      </a>
      <a class="social-link social-rss" href="/feed.xml" target="_blank">
        <i class="icon-rss"></i>
      </a>
    </div>
    <div class="credits">
      KAGAMI, made with <i class="icon-heart"></i> by Kamikat
    </div>
  </div>

</footer>


</body>

</html>
